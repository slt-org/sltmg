<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1" name="viewport">

    <!-- Bootstrap CSS -->
    <link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" rel="stylesheet">
    <script src="https://unpkg.com/mathjs@10.6.0/lib/browser/math.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Montserrat&display=swap');


        body {
            font-family: 'Montserrat', sans-serif;
            color: #333;
            background: white;
        }

        form {
            background: white;
        }

        label {
            margin-bottom: .5rem;
            text-align: right;
            display: block;
            letter-spacing: 2px;
            color: #adb5bd;
            text-transform: uppercase;
        }

        .form-control {
            border: none;
            background: none;
            border-bottom: 2px solid rgba(0, 0, 0, 0.2);
            transition: border-color .4s ease-out;
            border-radius: 0;
        }

        .form-control:active,
        .form-control:focus,
        .btn.focus,
        .btn:focus {
            outline: none;
            box-shadow: none;
            border-color: black;
        }

        .form-control.valid {
            border-color: green;
        }

        .form-control.invalid {
            border-color: red;
        }

        .form-control + small {
            color: red;
            opacity: 0;
            height: 0;
            transition: opacity .4s ease-out;
        }

        .form-control.invalid + small {
            opacity: 1;
            height: auto;
            margin-bottom: 20px;
            transition: opacity .4s ease-out;
        }

        .btn {
            border: 2px solid black;
            padding: 0.175rem 1.75rem;
            text-transform: uppercase;
            font-weight: 900;
            border-radius: 9px;
        }

        .btn:hover {
            color: white;
            background: black;
            transition: all .4s ease-out;
        }

    </style>
</head>
<body>
<div class="container">
    <div class="row">
        <div class="col-8">
            <form class="row g-3" id="myForm" onsubmit="handleFormSubmit()">
                <p class="h4 sm-4 text-center">DropRing Calculation</p><br>
                <p>
                    <button class="btn btn-primary btn-sm" type="button" data-bs-toggle="collapse"
                            data-bs-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample">
                        help
                    </button>
                </p>
                <div class="collapse" id="collapseExample">
                    <p>Calculations for a Drop Ring project that give separate rim and color measurements.
                    </p>
                    <div class="card card-body">
                        <small id="hint" class="form-text">acceptable values are any numbers whole, decimals or
                            fractions
                            <br> e.g. 3, 0.3, 3.6, 6 1/4 & 1/2
                            <br> be aware! 1 1/4 and 11/4 are not the same!</small>
                    </div>
                    <div>
                        <br>
                        <a href="https://sites.google.com/view/slt-mg/resources/documentation#h.m29mksuzlzbr" class="btn btn-primary btn-sm" role="button" aria-disabled="true">Drop Ring documentation</a>
                    </div>
                </div>
                <div class="form-row align-items-center">
                    <p class="h6 sm-4 ">Rim ring</p>
                    <div class="form-group">
                        <div class="input-group mb-3">
                            <input type="text" id="rimDiameter" class="form-control" placeholder="rim diameter"
                                   required>
                            <select class="form-select-sm" id="rimDiameterInputUnits">
                                <option value="in" selected>in</option>
                                <option value="mm">mm</option>
                                <option value="cm">cm</option>
                            </select>
                        </div>
                        <div class="col-sm-auto">
                            <div class="input-group mb-3">
                                <input type="text" class="form-control" id="rimHeight" placeholder="rim height"
                                       required>
                                <select class="form-select-sm" id="rimHeightInputUnits">
                                    <option value="in" selected>in</option>
                                    <option value="mm">mm</option>
                                    <option value="cm">cm</option>
                                </select>
                            </div>
                        </div>
                        <br><br>
                        <p class="h6 sm-4 ">Color disk</p>
                        <div class="col-sm-auto">
                            <div class="input-group mb-3">
                                <input type="text" id="colorDiameter" class="form-control" placeholder="color diameter"
                                       required>
                                <select class="form-select-sm" id="colorDiameterInputUnits">
                                    <option value="in" selected>in</option>
                                    <option value="mm">mm</option>
                                    <option value="cm">cm</option>
                                </select>
                            </div>
                        </div>

                        <div class="col-sm-auto">
                            <div class="input-group mb-3">
                                <input type="text" class="form-control" id="colorHeight" placeholder="color height"
                                       required>
                                <select class="form-select-sm" id="colorHeightInputUnits">
                                    <option value="in" selected>in</option>
                                    <option value="mm">mm</option>
                                    <option value="cm">cm</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <br>
                    <!--
                                        <div class="form-group col-sm-6">
                                            <p class="h6 sm-4 ">COE 90 or 96 Recipe</p>
                                            <div class="form-check form-check-inline">
                                                <input class="form-check-input" type="radio" name="coe" id="90" value="90"
                                                       checked>
                                                <label class="form-check-label" for="metric">COE 90</label>
                                            </div>
                                            <div class="form-check form-check-inline">
                                                <input class="form-check-input" type="radio" name="coe" id="96" value="96">
                                                <label class="form-check-label" for="imperial">COE 96</label>
                                            </div>
                                        </div>
                    -->
                    <div class="form-group col-sm-6">
                        <p class="h6 sm-4 ">Drop output units</p>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="output" id="metric" value="metric"
                                   checked>
                            <label class="form-check-label" for="metric">Metric</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="output" id="imperial" value="imperial">
                            <label class="form-check-label" for="imperial">Imperial</label>
                        </div>
                    </div>
                </div>
                <div class="col-12">
                    <button type="submit" class="btn btn-primary btn-sm">Drop</button>
                </div>
            </form>
            <br>
            <div id="recipe">
                <!--<div class="col-sm-auto" id="rim">-->
                <!--
<b>MG total volume:</b> 0 cm<sup>3</sup><br> <b>MG total weight:</b> 0 grams
-->
                <p class="h6 sm-4 ">Rim values</p>
                <table class="table table-hover">
                    <thead>
                    <tr>
                        <th scope="col">Volume</th>
                        <th scope="col">Weight</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <th scope="row">0</th>
                        <td>0</td>
                    </tr>
                    </tbody>
                </table>
                <!--</div>-->
                <br>
                <!--<div class="col-sm-auto" id="color">-->
                <p class="h6 sm-4 ">Color values</p>
                <table class="table table-hover">
                    <thead>
                    <tr>
                        <th scope="col">Volume</th>
                        <th scope="col">Weight</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <th scope="row">0</th>
                        <td>0</td>
                    </tr>
                    </tbody>
                </table>
                <!--</div>-->
                <br>
                <div><b>Total volume:</b> 0 cm<sup>3</sup><br> <b>Total weight:</b> 0 grams</div>
            </div>
        </div>
    </div>
    <br>
    <div id="ver"><p>GlassToolbox ver. 1.4</p></div>
</div>
<!-- Option 1: Bootstrap Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous">
</script>
<!-- 1. Constants -->
<script>
    const GLASS = .614;
    const WATER = .326;
    const BINDER = .032;
    const LMEDIUM = .027;
    const GLASS96 = .579;
    const WATER96 = .359;
    const BINDER96 = .036;
    const LMEDIUM96 = .026;
    const CUBICCM = 'cm<sup>3</sup>';
    const PI = 3.1416;
    const GLASSCONV = 0.232;
    const WATERCONV = 0.236;
    const BINDERCONV = 0.416;
    const LMEDIUMCONV = 0.2;
    const CUP = "cup";
    const a3QTR = "3/4";
    const aHALF = "1/2";
    const a1QTR = "1/4"
    const TBSP = "tbsp";
    const TSP = "tsp";
    const IMPERIAL = "imperial";
    const METRIC = "metric";
    const CITOCC = 16.387;
    const INTOCM = 2.54;
    const OZTOGM = 28.3495;
    const AUTHOR = "Steve Terry";
    const VERSION = "1.2";
    const REL = "candidate";

    // 2. inline validation for input fields -->
    const inputs = document.querySelectorAll('input');

    const patterns = {
        rimDiameter: /^[0-9]+[,.]?[0-9]*([\/][0-9]+[,.]?[0-9]*)*/,
        rimHeight: /^[0-9]+[,.]?[0-9]*([\/][0-9]+[,.]?[0-9]*)*/,
        colorDiameter: /^[0-9]+[,.]?[0-9]*([\/][0-9]+[,.]?[0-9]*)*/,
        colorHeight: /^[0-9]+[,.]?[0-9]*([\/][0-9]+[,.]?[0-9]*)*/
    };

    inputs.forEach((input) => {
        input.addEventListener('keyup', (e) => {
            validate(e.target, patterns[e.target.attributes.id.value]);
        });
    });

    /**
     * This validation framework could enhanced to do more complex validation
     * this could include checking the to see if the value fell into a range
     * we define. It could possibly be applied to numbers. Walk the debugger
     * to see how it works.
     */
    function validate(field, regex) {
        if (regex.test(field.value)) {
            field.className = 'form-control valid';
        } else {
            field.className = 'form-control invalid';
        }
    }
</script>

<script>
    // <!-- 3. Initial input handling different for each page -->
    /**
     * DropRing page specific code for
     * * Initial input handling with form submit
     * * Calculations by Shape DropRing object
     * takes the form input values and turns
     * them into normalized metric numbers and output unit preferences1
     * @type {DropRing}
     */
    function dropRingInputCollector() {
        console.log("in dropRingInputCollector ***************************");
        var data = new Object();
        data.colorDiameter = document.querySelector('#colorDiameter').value;
        data.colorDiameterUnits = document.getElementById('colorDiameterInputUnits').value;
        data.colorHeight = document.querySelector('#colorHeight').value;
        data.colorHeightUnits = document.getElementById('colorHeightInputUnits').value;

        data.rimDiameter = document.querySelector('#rimDiameter').value;
        data.rimDiameterUnits = document.querySelector('#rimDiameterInputUnits').value;
        data.rimHeight = document.querySelector('#rimHeight').value;
        data.rimHeightUnits = document.querySelector('#rimHeightInputUnits').value;

        data.outputUnits = document.querySelector('input[name=output]:checked').value;
        // data.coe = document.querySelector('input[name=coe]:checked').value;

        console.log("out dropRingInputCollector ***************************");
        return data;
    }

    class DropRing {
        colorDiameter;
        colorDiameterUnits;
        colorHeight;
        colorHeightUnits;
        rimDiameter;
        rimDiameterUnits;
        rimHeight;
        rimHeightUnits;
        volumeTotal;
        volumeRim;
        volumeColor;
        outputUnits;

        //coe;

        constructor(data) {
            this.colorDiameter = data.colorDiameter;
            this.colorDiameterUnits = data.colorDiameterUnits;
            this.colorHeight = data.colorHeight;
            this.colorHeightUnits = data.colorHeightUnits;
            this.rimDiameter = data.rimDiameter;
            this.rimDiameterUnits = data.rimDiameterUnits;
            this.rimHeight = data.rimHeight;
            this.rimHeightUnits = data.rimHeightUnits;
            this.outputUnits = data.outputUnits;
            //this.coe = data.coe;
        };

        /**
         * turns all units of measurement into centimeters.
         */
        normalizeUnits() {
            console.log("in DropRing.normalize ***************************");
            // turn all values that might be fractions into numbers.
            // and convert into centimeters.
            let _colorDiameter = math.number(math.fraction(this.colorDiameter));
            let _colorHeight = math.number(math.fraction(this.colorHeight));
            let _rimDiameter = math.number(math.fraction(this.rimDiameter));
            let _rimHeight = math.number(math.fraction(this.rimHeight));
            this.colorDiameter = this.convertToMetric(_colorDiameter, this.colorDiameterUnits);
            this.colorHeight = this.convertToMetric(_colorHeight, this.colorHeightUnits);
            this.rimDiameter = this.convertToMetric(_rimDiameter, this.rimDiameterUnits);
            this.rimHeight = this.convertToMetric(_rimHeight, this.rimHeightUnits);
            this.colorDiameterUnits = "cm";
            this.colorHeightUnits = "cm"
            this.rimDiameterUnits = "cm";
            this.rimHeightUnits = "cm";
            console.log("out DropRing.normalize ***************************");
            return "todo";
        };

        /**
         * calculate volume from dimensions.
         */
        calculateVolume() {
            console.log("in DropRing.calculateVolume ***************************");
            // Rim volume calculations
            let colorRadius = this.colorDiameter / 2;
            let rimRadius = this.rimDiameter / 2;
            let cR2 = colorRadius * colorRadius;
            let rR2 = rimRadius * rimRadius;
            this.volumeColor = PI * cR2 * this.colorHeight;
            this.volumeRim = (PI * rR2 * this.rimHeight) - (PI * cR2 * this.rimHeight);
            this.volumeTotal = this.volumeRim + this.volumeColor;
            // Color volume calculations
            // volume here is always in cm^3
            console.log("out DropRing.calculateVolume ***************************");
        }

        /**
         * turns all units of measurement into centimeters.
         */
        convertToMetric(value, units) {
            switch (units) {
                case "in": {
                    // convert to cm
                    value = (value * INTOCM);
                    break;
                }
                case "mm": {
                    // convert to cm
                    value = (value / 10);
                    break;
                }
                default: {
                    // no conversion necessary do nothing and return the value
                }
            }
            return value;
        };

        getResults() {
            console.log("in DropRing:getDropRingRecipe:*******************");
            let resultHtml;

            if (this.outputUnits == "metric") {
                // produce the metric version of recipe
                let metricObject = this.convertToNumber();
                resultHtml = createResultTable(metricObject);
            } else if (this.outputUnits == "imperial") {
                // produce the imperial version of recipe
                // need to take the volumeObject down the Imperial path.
                let imperialObject = this.convertToImperial();
                resultHtml = createResultTable(imperialObject);
            } else {
                cosole.log("We should never get here 'Big old Error'");
                resultHtml = "<h3>Failed to create Drop information...  ERROR</h3>";
            }
            console.log("out  DropRing:getDropRingRecipe:*******************");
            return resultHtml;
        };

        convertToNumber() {
            var impObject = new Object();
            impObject.unitsVolume = "cm<sup>3</sup>";
            impObject.unitsWeight = "grams";
            // set this functionality up in the metric script space
            impObject.rimVolume = Number(this.volumeRim);
            impObject.colorVolume = Number(this.volumeColor);
            impObject.rimWeight = Number((impObject.rimVolume * 2.5));
            impObject.colorWeight = Number((impObject.colorVolume * 2.5));

            return impObject;
        }

        convertToImperial() {
            var impObject = new Object();
            impObject.unitsVolume = "in<sup>3</sup>";
            impObject.unitsWeight = "oz";
            impObject.rimVolume = Number((this.volumeRim / CITOCC));
            impObject.colorVolume = Number((this.volumeColor / CITOCC));
            impObject.rimWeight = Number(((this.volumeRim * 2.5) / OZTOGM));
            impObject.colorWeight = Number(((this.volumeColor * 2.5) / OZTOGM));

            return impObject;
        }

    }


    function handleFormSubmit() {
        console.log("*************** in handleFormSubmit ");
        // inputs are valid
        // page specific function here for gathering named inputs, units and output units
        let updateLocation = document.querySelector('#recipe');

        let dropRing = new DropRing(dropRingInputCollector());
        dropRing.normalizeUnits();
        dropRing.calculateVolume();
        let generatedRecipe = dropRing.getResults();
        updateLocation.innerHTML = generatedRecipe;

        console.log("*************** out handleFormSubmit ");
    }

    function preventFormSubmit() {
        var forms = document.querySelectorAll('form');
        for (var i = 0; i < forms.length; i++) {
            forms[i].addEventListener('submit', function (event) {
                event.preventDefault();
            });
        }
    };

    window.addEventListener('load', preventFormSubmit);

</script>
<!-- 5. Volume base Recipe calculations independent of Shape -->
<script>
    /********************************************************************************************************
     *
     *   Shape independent Recipe output
     *
     ********************************************************************************************************/

    /**
     * this method takes json and turns it into
     * an html table of the MG recipe to be displayed to the user
     * json should have the 4 fields of glass,water,binder and liquid medium.
     *  @param {object} volumeObject - DTO for aggregating data.
     */
    function createResultTable(volumeObject) {
        console.log("metric.js:mCreateRecipeTableHtml: object passed to createRecipe " + JSON.stringify(volumeObject));

        let recipe = "No recipe available";

        if (volumeObject.outputUnits != "imperial") {
            /*
                        volumeObject.units = "grams";
                        // set this functionality up in the metric script space
                        let _volumeRim = Number(volumeObject.volumeRim.toFixed(1));
                        let _volumeColor = Number(volumeObject.volumeColor.toFixed(1));
                        let _rimWeight = Number((_volumeRim * 2.5).toFixed(1));
                        let _colorWeight = Number((_volumeColor * 2.5).toFixed(1));
            */
            recipe = "<p class=\"h6 sm-4 \">Rim values</p>\n" +
                "                <table class=\"table table-hover\">\n" +
                "                    <thead><tr><th scope=\"col\">Volume</th><th scope=\"col\">Weight</th></tr></thead>\n" +
                "                    <tbody><tr><td scope=\"row\">" + volumeObject.rimVolume.toFixed(2) + " " + volumeObject.unitsVolume + " </td><td>" + volumeObject.rimWeight.toFixed(2) + " " + volumeObject.unitsWeight + "</td></tr></tbody>\n" +
                "                </table>\n" +
                "            <br>\n" +
                "                <p class=\"h6 sm-4 \">Color values</p>\n" +
                "                <table class=\"table table-hover\">\n" +
                "                    <thead><tr><th scope=\"col\">Volume</th><th scope=\"col\">Weight</th></tr></thead>\n" +
                "                    <tbody><tr><td scope=\"row\">" + volumeObject.colorVolume.toFixed(2) + " " + volumeObject.unitsVolume + " </td><td>" + volumeObject.colorWeight.toFixed(2) + " " + volumeObject.unitsWeight + "</td></tr></tbody>\n" +
                "                </table>\n" +
                "                <div><b>Total volume:</b> " + (volumeObject.rimVolume + volumeObject.colorVolume).toFixed(2) + " " + volumeObject.unitsVolume + " <br> <b>Total weight:</b> " + (volumeObject.rimWeight + volumeObject.colorWeight).toFixed(2) + " " + volumeObject.unitsWeight + " </div>"

            /*
               "                <br>\n" +
               "                <p class=\"h6 sm-4 \">Color recipe</p>\n" +
               "                <table class=\"table table-hover\">\n" +
               "                    <thead>\n" +
               "                    <tr><th scope=\"col\">Ingredient</th><th scope=\"col\">Amount</th><th scope=\"col\">Units</th></tr>\n" +
               "                    </thead>\n" +
               "                    <tbody>\n" +
               "                    <tr><th scope=\"row\">Glass</th><td>" + volumeObject.glass + "</td><td>" + volumeObject.units + "</td></tr>\n" +
               "                    <tr><th scope=\"row\">H2O</th><td>" + volumeObject.water + "</td><td>" + volumeObject.units + "</td></tr>\n" +
               "                    <tr><th scope=\"row\">Binder</th><td>" + volumeObject.binder + "</td><td>" + volumeObject.units + "</td></tr>\n" +
               "                    <tr><th scope=\"row\">Liquid Medium</th><td>" + volumeObject.liquid_medium + "</td><td>" + volumeObject.units + "</td></tr>\n" +
               "                    </tbody>\n" +
               "                </table>\n";
*/
        }
        ;
        return recipe;
    };

    /********************************************************************************************************
     *
     *   Imperial output code.
     *
     ********************************************************************************************************/

    /**
     * this method takes an object and turns it into
     * an html table of the MG recipe with Imperial units to be displayed to the user
     * The volumeObject should be complete should and
     * have the 4 fields of glass,water,binder and liquid medium.
     */
    /*
        function iCreateRecipeTableHtml(volumeObject) {     // a portion of this is duplicate code for metric and imperial
            console.log("in imperial.gs : iCreateRecipeTableHtml ***********************");
            console.log("iCreateRecipeTableHtml: object passed to createRecipe " + JSON.stringify(volumeObject));

            let recipe = "No Recipe available";

            // We need to translate from grams to imperial measurements of teaspoons ect.
            // for each ingredient. Then output the amount to table
    /!*
            console.log("glass .................");
            var glassAmount = formatIngredientList(convert(volumeObject.glass, GLASSCONV));
            console.log("water .................");
            var waterAmount = formatIngredientList(convert(volumeObject.water, WATERCONV));
            console.log("binder .................");
            var binderAmount = formatIngredientList(convert(volumeObject.binder, BINDERCONV));
            console.log("medium .................");
            var mediumAmount = formatIngredientList(convert(volumeObject.liquid_medium, LMEDIUMCONV));
    *!/

            let cubicInches = "in<sup>3</sup>";
            let oz = "oz";
            let _rimVolume = volumeObject.volumeRim.toFixed(1);
            let _colorVolume = volumeObject.volumeColor.toFixed(1)
            let _rimWeight = (_rimVolume * 2.5).toFixed(1);
            let _colorWeight = (_colorVolume * 2.5).toFixed(1);
            if (volumeObject.outputUnits == "imperial") {
                // convert volume from cc to ci and weight from gm to oz.
                _rimVolume = (_rimVolume / CITOCC).toFixed(2);
                _rimWeight = (_rimWeight / OZTOGM).toFixed(2);
                _colorVolume = (_colorVolume / CITOCC).toFixed(2);
                _colorWeight = (_colorWeight / OZTOGM).toFixed(2);
            }

            // Logger.log("glassAmount : " + glassAmount.toString());
            recipe = "<b>MG total volume:</b> " + impVolume + " " + cubicInches + "<br> <b>MG total weight:</b> " + impWeight + " ounces\n" +
                "                <table class=\"table table-hover\">\n" +
                "                    <thead>\n" +
                "                    <tr><th scope=\"col\">Ingredient</th><th scope=\"col\">Amount</th></tr>\n" +
                "                    </thead>\n" +
                "                    <tbody>\n" +
                "                    <tr><th scope=\"row\">Glass</th><td>" + glassAmount.toString() + "</td></tr>\n" +
                "                    <tr><th scope=\"row\">H2O</th><td>" + waterAmount.toString() + "</td></tr>\n" +
                "                    <tr><th scope=\"row\">Binder</th><td>" + binderAmount.toString() + "</td></tr>\n" +
                "                    <tr><th scope=\"row\">Liquid Medium</th><td>" + mediumAmount.toString() + "</td></tr>\n" +
                "                    </tbody>\n" +
                "                </table>\n";

            console.log("out imperial.gs : iCreateRecipeTableHtml ***********************");
            return recipe;
        };
    */

    // finalObject has collected values from conversion
    /* function formatIngredientList(formatObject) {
         console.log("in imperial.gs : formatIngredientList ***********************");
         // Walk the possible values and format for
         // html template.

         let cup = false;
         let tsp = false;
         let result = "";
         let glassAmountFormatted;
         if (formatObject.cups > 0) {
             result = result + formatObject.cups + " ";
             cup = true;
         }
         if (formatObject.threeqtrCup > 0) {
             result = result + "3/4";
             cup = true;
         }
         if (formatObject.halfCup > 0) {
             result = result + "1/2";
             cup = true;
         }
         if (formatObject.qtrCup > 0) {
             result = result + "1/4";
             cup = true;
         }
         if (cup == true) {
             result = result + " cup + ";
         }
         if (formatObject.tblsp > 0) {
             result = result + formatObject.tblsp + " tblsp + ";
         }
         if (formatObject.tsp > 0) {
             result = result + formatObject.tsp + " ";
             tsp = true;
         }
         if (formatObject.threeqtrTsp > 0) {
             result = result + "3/4";
             tsp = true;
         }
         if (formatObject.halfTsp > 0) {
             result = result + "1/2";
             tsp = true;
         }
         if (formatObject.qtrTsp > 0) {
             result = result + "1/4";
             tsp = true;
         }
         if (tsp == true) {
             result = result + " tsp.";
         }

         console.log("out imperial.gs : formatIngredientList ***********************");

         return result;
     }
 */
    /**
     * convert ingredient weight in grams to imperial measurements.
     * @param {number} ingredientWeightInGrams
     */
    /*  function convert(ingredientWeightInGrams, ingredientConversionFactor) {
          console.log("in imperial.gs : convert ***********************");
          console.log("input value in grams " + ingredientWeightInGrams + " input conversion factor " + ingredientConversionFactor);
          let tsp = ingredientWeightInGrams * ingredientConversionFactor;
          console.log("teaspoons from weight: " + tsp.toFixed(2));
          let conObj = new Object();
          conObj.cups = 0;            // 48 tsps
          conObj.threeqtrCup = 0;     // 36 tsps
          // conObj.twoThirdsCup = 0; // 32 tsps
          conObj.halfCup = 0;         // 24 tsps
          conObj.qtrCup = 0;          // 12 tsps
          conObj.tblsp = 0;           //  3 tsps
          conObj.threeqtrTsp = 0;
          conObj.halfTsp = 0;
          conObj.qtrTsp = 0;
          conObj.eightTsp = 0;
          conObj.tsp = 0;

          while (tsp > 48) {
              conObj.cups = conObj.cups + 1;
              tsp = tsp - 48;
          }
          ;

          if (tsp <= 47.99 && tsp >= 36) {
              conObj.threeqtrCup = 1;
              tsp = tsp - 36;
          }
          ;

          if (tsp <= 35.99 && tsp >= 24) {
              conObj.halfCup = 1;
              tsp = tsp - 24;
          }
          ;

          if (tsp <= 23.99 && tsp >= 12) {
              conObj.qtrCup = 1;
              tsp = tsp - 12;
          }
          ;

          while (tsp <= 11.99 && tsp >= 3) {
              conObj.tblsp = conObj.tblsp + 1;
              tsp = tsp - 3;
          }
          ;

          while (tsp < 2.99 && tsp >= 1) {
              tsp = tsp.toFixed(2);
              conObj.tsp = conObj.tsp + 1;
              tsp = tsp - 1;
          }
          ;

          console.log("after here there is less than 1 teaspoon left. " + tsp.toFixed(2));

          if (tsp < 0.99 && tsp >= .75) {
              conObj.threeqtrTsp = conObj.threeqtrTsp + 1;
              tsp = 0;
          }

          if (tsp < .749 && tsp >= .50) {
              conObj.halfTsp = conObj.halfTsp + 1;
              tsp = 0;
          }

          if (tsp < .499 && tsp >= .25) {
              conObj.qtrTsp = conObj.qtrTsp + 1;
              tsp = 0;
          }

          if (tsp < .249 && tsp >= .125) {
              conObj.eightTsp = conObj.eightTsp + 1;
              tsp = 0;
          }

          console.log("out imperial.gs : convert ***********************");
          return conObj;
      };
      */
</script>

</body>
</html>